<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ecoShopMapper">
    <select id="getEscIdByThemeId" parameterType="string" resultType="long">
        SELECT ESC_ID
        FROM ECO_SHOP_CATEGORY
        WHERE CONTS_ID = #{themeId}
    </select>

    <select id="checkDuplicate" parameterType="string" resultType="int">
        SELECT COUNT(*)
        FROM ECO_SHOP
        WHERE CONTS_ID = #{contsId}
    </select>

    <insert id="insertEcoShop" parameterType="com.kh.spring.ecoshop.vo.EcoShop">
        INSERT INTO ECO_SHOP (
        NAME, ADDRESS, PHONE, LAT, LNG, ESC_ID, CONTS_ID
        ) VALUES (
        #{name}, #{address}, #{phone}, #{lat}, #{lng}, #{escId}, #{contsId}
        )
    </insert>
</mapper>